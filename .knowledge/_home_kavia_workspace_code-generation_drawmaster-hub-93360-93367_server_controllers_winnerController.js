{"is_source_file": true, "format": "JavaScript", "description": "This file defines controller functions for managing winners in a contest-based application. It includes functions to select a winner for a contest and retrieve all winners for a specific contest, interacting with models such as Winner, Contest, and Submission.", "external_files": ["../models/Winner", "../models/Contest", "../models/Submission"], "external_methods": ["Contest.findById", "Submission.findById", "Contest.findByIdAndUpdate", "Winner.create", "Winner.find", "winner.populate"], "published": ["exports.selectWinner", "exports.getWinnersByContest"], "classes": [], "methods": [{"name": "selectWinner", "description": "Handles the process of selecting a winner for a specific contest, including validation, record creation, and contest update."}, {"name": "getWinnersByContest", "description": "Retrieves all winners associated with a specific contest, including populated submission and user details."}], "calls": ["Contest.findById", "Submission.findById", "Contest.findByIdAndUpdate", "Winner.create", "winner.populate", "Winner.find"], "search-terms": ["winnerController", "selectWinner", "getWinners", "contests", "submissions", "winner selection", "winners list"], "state": 2, "file_id": 76, "knowledge_revision": 188, "git_revision": "c801172c63fb68788fd60f46767631de31b8b8d5", "ctags": [{"_type": "tag", "name": "Contest", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/winnerController.js", "pattern": "/^const Contest = require('..\\/models\\/Contest');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Submission", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/winnerController.js", "pattern": "/^const Submission = require('..\\/models\\/Submission');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Winner", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/winnerController.js", "pattern": "/^const Winner = require('..\\/models\\/Winner');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contest", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/winnerController.js", "pattern": "/^    const contest = await Contest.findById(contestId);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "submission", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/winnerController.js", "pattern": "/^    const submission = await Submission.findById(submissionId);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "winner", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/winnerController.js", "pattern": "/^    const winner = await Winner.create({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "winners", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/winnerController.js", "pattern": "/^    const winners = await Winner.find({ contest: contestId })$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/winnerController.js", "hash": "fc1a63676e8cbed7f5226d31f6a31a1c", "format-version": 4, "code-base-name": "default", "revision_history": [{"188": "c801172c63fb68788fd60f46767631de31b8b8d5"}]}