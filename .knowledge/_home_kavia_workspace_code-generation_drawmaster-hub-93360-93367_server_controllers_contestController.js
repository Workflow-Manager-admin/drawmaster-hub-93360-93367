{"is_source_file": true, "format": "JavaScript (Node.js, Express)", "description": "This file contains controller functions for managing contests, including retrieving contests, creating, updating, deleting, and announcing winners. It interfaces with 'Contest' and 'Submission' models and defines API routes for contest-related operations.", "external_files": ["../models/Contest", "../models/Submission"], "external_methods": ["Contest.find", "Contest.findById", "Contest.create", "Contest.findByIdAndUpdate", "Contest.countDocuments", "contest.deleteOne", "contest.save"], "published": ["getContests", "getContest", "createContest", "updateContest", "deleteContest", "announceWinners"], "classes": [], "methods": [{"name": "getContests", "description": "Retrieves a list of contests, optionally filtered by status, sorted by start date."}, {"name": "getContest", "description": "Retrieves details of a specific contest by ID, including its submissions."}, {"name": "createContest", "description": "Creates a new contest with data from the request body, associating it with the user."}, {"name": "updateContest", "description": "Updates an existing contest identified by ID with provided data."}, {"name": "deleteContest", "description": "Deletes a contest if it has no submissions."}, {"name": "announceWinners", "description": "Marks a contest as completed and announces winners if not already announced."}], "calls": ["Contest.find()", "Contest.findById()", "Contest.create()", "Contest.findByIdAndUpdate()", "Contest.countDocuments()", "contest.deleteOne()", "contest.save()"], "search-terms": ["contestController", "contest routes", "winners announcement", "contests list", "manage contests", "contest submissions"], "state": 2, "file_id": 32, "knowledge_revision": 66, "git_revision": "d742336b2b39bb77e0009909983ec1435128a0de", "ctags": [{"_type": "tag", "name": "Contest", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^const Contest = require('..\\/models\\/Contest');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Submission", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^const Submission = require('..\\/models\\/Submission');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contest", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^    const contest = await Contest.create(req.body);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contest", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^    const contest = await Contest.findById(req.params.id).populate('submissions');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contest", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^    const contest = await Contest.findById(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contest", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^    let contest = await Contest.findById(req.params.id);$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "contests", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^    const contests = await query;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^    let query = Contest.find();$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "submissionCount", "path": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "pattern": "/^    const submissionCount = await Submission.countDocuments({ contest: req.params.id });$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/drawmaster-hub-93360-93367/server/controllers/contestController.js", "hash": "4ceacc89bf03366f32a1013540095521", "format-version": 4, "code-base-name": "default", "fields": [{"name": "let contest = await Contest.findById(req.params.id);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let query = Contest.find();", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"66": "d742336b2b39bb77e0009909983ec1435128a0de"}]}